/* START: ESTIMATION PANEL */
$("select").on("click" , function() {
  $(this).parent(".select-box").toggleClass("open");
});

$(document).mouseup(function (e)
{
  var container = $(".select-box");
  if (container.has(e.target).length === 0) {
    container.removeClass("open");
  }
});

$("select").on("change" , function() {
  var selection = $(this).find("option:selected").text(),
      labelFor = $(this).attr("id"),
      label = $("[for='" + labelFor + "']");
    
  label.find(".label-desc").html(selection); 
});

$(document).ready(function() {
  var present_panel = "looking";
  var previous_panel_e = '';
  var looking_val = "";
  if (present_panel === "looking") {
    $("#back-button").addClass('hide-content');
  }

  $("#next-button").click(function() {
    $('html, body').animate({
      scrollTop: $("#progress-bar-inner").offset().top
  }, 50);
    if (present_panel === "looking") {
      looking_val = $("input[type='radio'][name='looking']:checked").val();
      $("#looking-for").addClass("hide-content");
      if ($("input[type='radio'][name='platform']:checked").val() === 'amazon') {
        $("#no-of-listings-box").removeClass('hide-content');
      }

      if (looking_val === 'dev') {
        present_panel = 'dev';
        previous_panel_e = 'dev';
        $("#dev").removeClass('hide-content');
        $("#dev").css("margin-left", "150px");
        $("#dev").animate({'margin-left': '0px'}, {duration: 200});
      }
      else if (looking_val === 'ppc') {
        present_panel = 'ppc';
        previous_panel_e = 'ppc';
        $("#ppc").removeClass('hide-content');
        $("#ppc").css("margin-left", "150px");
        $("#ppc").animate({'margin-left': '0px'}, {duration: 200});
      }
      else if (looking_val === 'automation') {
        present_panel = 'automation';
        previous_panel_e = 'automation';
        $("#automation").removeClass('hide-content');
        $("#automation").css("margin-left", "150px");
        $("#automation").animate({'margin-left': '0px'}, {duration: 200});
      }
      else if (looking_val === 'seo') {
        present_panel = 'seo';
        previous_panel_e = 'seo';
        $("#seo").removeClass('hide-content');
        $("#seo").css("margin-left", "150px");
        $("#seo").animate({'margin-left': '0px'}, {duration: 200});
      }
      else if (looking_val === 'rap') {
        present_panel = 'rap';
        previous_panel_e = 'rap';
        $("#rap").removeClass('hide-content');
        $("#rap").css("margin-left", "150px");
        $("#rap").animate({'margin-left': '0px'}, {duration: 200});
      }
      else if (looking_val === 'smm') {
        present_panel = 'smm';
        previous_panel_e = 'smm';
        $("#smm").removeClass('hide-content');
        $("#smm").css("margin-left", "150px");
        $("#smm").animate({'margin-left': '0px'}, {duration: 200});
      }
      else if (looking_val === 'content') {
        present_panel = 'content';
        previous_panel_e = 'content';
        $("#content").removeClass('hide-content');
        $("#content").css("margin-left", "150px");
        $("#content").animate({'margin-left': '0px'}, {duration: 200});
      }
      else {
        window.location.reload();
      }
      $("#progress-bar-inner").animate({width: '33%'}, {duration: 500});
      $("#percentage-count").text("33% Completed");

    }

    else if (present_panel === 'dev' || present_panel === 'ppc' || present_panel === 'automation' || present_panel === 'seo' || present_panel === 'rap' || present_panel === 'smm' || present_panel === 'content') {
      if (present_panel === 'rap') {
        if (!$("#organic-checkbox").is(':checked') && !$("#paid-checkbox").is(':checked') && !$("#social-checkbox").is(':checked') && !$("#email-checkbox").is(':checked')) { 
          alert('Please choose some option');
          return false;
        }
      }
      $("#dev, #ppc, #automation, #seo, #rap, #smm, #content").addClass("hide-content");
      $("#email").removeClass('hide-content');
      $("#email").css("margin-left", "150px");
      $("#email").animate({'margin-left': '0px'}, {duration: 200});
      present_panel = 'email';
      $("#progress-bar-inner").animate({width: '67%'}, {duration: 500});
     $("#percentage-count").text("66% Completed");
    }

    else if (present_panel === "email") {
      $("#email-ack").addClass("hide-content");
     var email_address = $("#email-input").val();
     if (isEmail(email_address)) {
      $("#email").addClass("hide-content");
      $("#cost").removeClass("hide-content");
      $("#cost").css("margin-left", "150px");
      $("#cost").animate({'margin-left': '0px'}, {duration: 200});
      present_panel = 'cost';
      $("#progress-bar-inner").animate({width: '100%'}, {duration: 500});
      $("#percentage-count").text("100% Completed");

      if (ppc_platform !== 'amazon') {
        $("#optional-frame-tr").addClass('hide-content');
      }

      var looking_for = $("input[type='radio'][name='looking']:checked").val();
      var no_of_pages = undefined;
      var ui_level = undefined;
      var website_category = undefined;
      var code_or_template = undefined;
      var static_or_dynamic = undefined;
      var ppc_platform = undefined;
      var ppc_budget = undefined;
      var no_of_products = undefined;
      var no_of_listings = undefined;
      var audience_size = undefined;
      var no_of_keywords = undefined;
      var traffic_source = undefined;
      var organic_traffic = undefined;
      var paid_traffic = undefined;
      var social_traffic = undefined;
      var email_traffic = undefined;
      var no_of_networks = undefined;
      var no_of_posts = undefined;
      var paid_social_budget = undefined;
      var no_of_words = undefined;
      
      if (looking_for === 'dev') {
        no_of_pages = parseInt($.trim($("#no-of-pages").val()));
        if (isNaN(no_of_pages) || no_of_pages == '' || typeof(no_of_pages)  === "undefined" || no_of_pages.length < 1) {
          no_of_pages = 1;
        }
        else {
          no_of_pages = no_of_pages;
        }
        ui_level = $("input[type='radio'][name='ui-level']:checked").val();
        website_category = $("input[type='radio'][name='category']:checked").val();
        code_or_template = $("input[type='radio'][name='code-or-template']:checked").val();
        static_or_dynamic = $("input[type='radio'][name='static-or-dynamic']:checked").val();
      }

      if (looking_for === 'ppc') {
        ppc_platform = $("input[type='radio'][name='platform']:checked").val();

        ppc_budget = parseInt($.trim($("#ppc-budget").val()));
        if (isNaN(ppc_budget) || ppc_budget == '' || typeof(ppc_budget)  === "undefined" || ppc_budget.length < 1) {
          ppc_budget = 1;
        }
        else {
          ppc_budget = ppc_budget;
        }

        no_of_products = parseInt($.trim($("#no-of-products").val()));
        if (isNaN(no_of_products) || no_of_products == '' || typeof(no_of_products)  === "undefined" || no_of_products.length < 1) {
          no_of_products = 1;
        }
        else {
          no_of_products = no_of_products;
        }

        no_of_listings = parseInt($.trim($("#no-of-listings").val()));
        if (isNaN(no_of_listings) || no_of_listings == '' || typeof(no_of_listings)  === "undefined" || no_of_listings.length < 1) {
          no_of_listings = 1;
        }
        else {
          no_of_listings = no_of_listings;
        }
      }

      if (looking_for === 'automation') {
        audience_size = $("input[type='radio'][name='audience-size']:checked").val();
      }

      if (looking_for === 'seo') {
        no_of_keywords = parseInt($.trim($("#no-of-keywords").val()));
        if (isNaN(no_of_keywords) || no_of_keywords == '' || typeof(no_of_keywords)  === "undefined" || no_of_keywords.length < 1) {
          no_of_keywords = 1;
        }
        else {
          no_of_keywords = no_of_keywords;
        }
      }
      if (looking_for === "rap") { 
        traffic_source = '';
        $('.traffic-source-checkbox:checked').each(function() {
          traffic_source = traffic_source+","+$(this).val();
        });  

        organic_traffic = parseInt($.trim($("#organic-traffic").val()));
        if (isNaN(organic_traffic) || organic_traffic == '' || typeof(organic_traffic)  === "undefined" || organic_traffic.length < 1 || !$("#organic-checkbox").prop("checked")) {
          organic_traffic = 1;
        }
        else {
          organic_traffic = organic_traffic;
        }

        paid_traffic = parseInt($.trim($("#paid-traffic").val()));
        if (isNaN(paid_traffic) || paid_traffic == '' || typeof(paid_traffic)  === "undefined" || paid_traffic.length < 1 || !$("#paid-checkbox").prop("checked")) {
          paid_traffic = 1;
        }
        else {
          paid_traffic = paid_traffic;
        }

        social_traffic = parseInt($.trim($("#social-traffic").val()));
        if (isNaN(social_traffic) || social_traffic == '' || typeof(social_traffic)  === "undefined" || social_traffic.length < 1 || !$("#social-checkbox").prop("checked")) {
          social_traffic = 1;
        }
        else {
          social_traffic = social_traffic;
        }

        email_traffic = parseInt($.trim($("#email-traffic").val()));
        if (isNaN(email_traffic) || email_traffic == '' || typeof(email_traffic)  === "undefined" || email_traffic.length < 1 || !$("#email-checkbox").prop("checked")) {
          email_traffic = 1;
        }
        else {
          email_traffic = email_traffic;
        }

      }

      if (looking_for === 'smm') {
        no_of_networks = parseInt($.trim($("#no-of-networks").val()));
        if (isNaN(no_of_networks) || no_of_networks == '' || typeof(no_of_networks)  === "undefined" || no_of_networks.length < 1) {
          no_of_networks = 1;
        }
        else {
          no_of_networks = no_of_networks;
        }

        no_of_posts = parseInt($.trim($("#no-of-post").val()));
        if (isNaN(no_of_posts) || no_of_posts == '' || typeof(no_of_posts)  === "undefined" || no_of_posts.length < 1) {
          no_of_posts = 1;
        }
        else {
          no_of_posts = no_of_posts;
        }

        paid_social_budget = parseInt($.trim($("#paid-social-budget").val()));
        if (isNaN(paid_social_budget) || paid_social_budget == '' || typeof(paid_social_budget)  === "undefined" || paid_social_budget.length < 1) {
          paid_social_budget = 1;
        }
        else {
          paid_social_budget = paid_social_budget;
        }
      }

      if (looking_for === 'content') {
        no_of_words = parseInt($.trim($("#no-of-words").val()));
        if (isNaN(no_of_words) || no_of_words == '' || typeof(no_of_words)  === "undefined" || no_of_words.length < 1) {
          no_of_words = 1;
        }
        else {
          no_of_words = no_of_words;
        }
      }

      email = email_address;
      
      if (looking_for === 'dev') {
        var first_frame_amount = 0;
        var second_frame_amount = 0;
        var third_frame_amount = 0;
        var fourth_frame_amount = 0;

        if (no_of_pages <= 5) {
          if (ui_level === 'high') {
            first_frame_amount = no_of_pages * 3000;
          }
          else if (ui_level === 'moderate') {
            first_frame_amount = no_of_pages * 2000;
          }
          else {
            first_frame_amount = no_of_pages * 1000;
          }

          if (code_or_template === 'code') {
            second_frame_amount = 1000;
          }
          else {
            second_frame_amount = 750;
          }

          if (static_or_dynamic === 'dynamic') {
            second_frame_amount = second_frame_amount * 3;
          }
          else {
            second_frame_amount = second_frame_amount * 2;
          }

          if (website_category === 'e-commerce') {
            second_frame_amount = second_frame_amount + 1000;
          }

          third_frame_amount = (no_of_pages * 5) + 7;
        }

        else if (no_of_pages > 5 && no_of_pages <= 10) {
          if (ui_level === 'high') {
            first_frame_amount = no_of_pages * 2500;
          }
          else if (ui_level === 'moderate') {
            first_frame_amount = no_of_pages * 1500;
          }
          else {
            first_frame_amount = no_of_pages * 600;
          }

          if (code_or_template === 'code') {
            second_frame_amount = 800;
          }
          else {
            second_frame_amount = 650;
          }

          if (static_or_dynamic === 'dynamic') {
            second_frame_amount = second_frame_amount * 3;
          }
          else {
            second_frame_amount = second_frame_amount * 2;
          }

          if (website_category === 'e-commerce') {
            second_frame_amount = second_frame_amount + 900;
          }

          third_frame_amount = (no_of_pages * 4.5) + 14;
        }

        else if (no_of_pages > 10 && no_of_pages <= 20) {
          if (ui_level === 'high') {
            first_frame_amount = no_of_pages * 2000;
          }
          else if (ui_level === 'moderate') {
            first_frame_amount = no_of_pages * 1000;
          }
          else {
            first_frame_amount = no_of_pages * 450;
          }

          if (code_or_template === 'code') {
            second_frame_amount = 700;
          }
          else {
            second_frame_amount = 500;
          }

          if (static_or_dynamic === 'dynamic') {
            second_frame_amount = second_frame_amount * 3;
          }
          else {
            second_frame_amount = second_frame_amount * 2;
          }

          if (website_category === 'e-commerce') {
            second_frame_amount = second_frame_amount + 750;
          }

          third_frame_amount = (no_of_pages * 3.5) + 21;
        }

        else {
          if (ui_level === 'high') {
            first_frame_amount = no_of_pages * 1000;
          }
          else if (ui_level === 'moderate') {
            first_frame_amount = no_of_pages * 500;
          }
          else {
            first_frame_amount = no_of_pages * 200;
          }

          if (code_or_template === 'code') {
            second_frame_amount = 600;
          }
          else {
            second_frame_amount = 400;
          }

          if (static_or_dynamic === 'dynamic') {
            second_frame_amount = second_frame_amount * 3;
          }
          else {
            second_frame_amount = second_frame_amount * 2;
          }

          if (website_category === 'e-commerce') {
            second_frame_amount = second_frame_amount + 600;
          }

          third_frame_amount = (no_of_pages * 2.5) + 30;
        }

        second_frame_amount = no_of_pages * second_frame_amount;
        fourth_frame_amount = first_frame_amount + second_frame_amount;

        $("#cost-estimation-label").text("Website Development Cost Estimation");
        $("#first-frame-label").text("Designing");
        $("#first-frame-amount").html("<i class='fas fa-rupee-sign'></i>&nbsp;"+first_frame_amount);
        $("#second-frame-label").text("Development");
        $("#second-frame-amount").html("<i class='fas fa-rupee-sign'></i>&nbsp;"+second_frame_amount);
        $("#third-frame-label").text("Build Time");
        $("#third-frame-amount").html(Math.round(third_frame_amount)+" Days");
        $("#fourth-frame-label").text("Total:");
        $("#fourth-frame-amount").html("<i class='fas fa-rupee-sign'></i>&nbsp;"+fourth_frame_amount);
      }

      else if (looking_for === 'ppc') {
        $("#cost-estimation-label").text("Pay Per Click Cost Estimation");

        if (ppc_budget <= 30000) {
          first_frame_amount = 3000;
        }
        else if (ppc_budget > 2500000) {
          first_frame_amount = Math.round(ppc_budget/100*7);
        }
        else {
          first_frame_amount = Math.round(ppc_budget/10);
        }

        second_frame_amount = no_of_products * 1000;
        
        fourth_frame_amount = first_frame_amount + second_frame_amount;

        if (ppc_platform === 'amazon') {
          listings_amount = no_of_listings * 50;
          fourth_frame_amount = fourth_frame_amount + listings_amount;
          $("#optional-frame-tr").removeClass('hide-content');

          $("#optional-frame-label").text("Listing Management");
          $("#optional-frame-amount").html("<i class='fas fa-rupee-sign'></i>&nbsp;"+listings_amount);
        }
        else {
          $("#optional-frame-tr").addClass('hide-content');
        }

        $("#first-frame-label").text("PPC Management");
        $("#first-frame-amount").html("<i class='fas fa-rupee-sign'></i>&nbsp;"+first_frame_amount);
        $("#second-frame-label").text("Setup Fee");
        $("#second-frame-amount").html("<i class='fas fa-rupee-sign'></i>&nbsp;"+second_frame_amount);
        $("#third-frame-label").text("Commitment Time");
        $("#third-frame-amount").html("3 Months");
        $("#fourth-frame-label").text("Total:");
        $("#fourth-frame-amount").html("<i class='fas fa-rupee-sign'></i>&nbsp;"+fourth_frame_amount);
      }
      else if (looking_for === 'automation') {        
        if (audience_size == 500) {
          first_frame_amount = 5000;
        }
        else if (audience_size == 5001) {
          first_frame_amount = 12500;
        }
        else if (audience_size == 10001) {
          first_frame_amount = 22500;
        }
        else if (audience_size == 50001) {
          first_frame_amount = 35000;
        }
        else if (audience_size == 100001) {
          first_frame_amount = 40000;
        }
        else if (audience_size == 500001) {
          first_frame_amount = 70000;
        }
        else if (audience_size == 1000001) {
          first_frame_amount = 125000;
        }
        else if (audience_size == 2500001) {
          first_frame_amount = 500000;
        }

        fourth_frame_amount = first_frame_amount;
        
        //$("#second-frame-tr").addClass('hide-content');

        $("#cost-estimation-label").text("Marketing Automation Cost Estimation");
        $("#first-frame-label").text("Commission");
        $("#first-frame-amount").html("<i class='fas fa-rupee-sign'></i>&nbsp;"+first_frame_amount);
        $("#second-frame-label").text("");
        $("#second-frame-amount").html("");
        $("#third-frame-label").text("Commitment Time");
        $("#third-frame-amount").html("3 Months");
        $("#fourth-frame-label").text("Total:");
        $("#fourth-frame-amount").html("<i class='fas fa-rupee-sign'></i>&nbsp;"+fourth_frame_amount);
      }
      else if (looking_for === 'seo') {
        if (no_of_keywords <= 5) {
          first_frame_amount = 5000;
        }
        else if (no_of_keywords > 5 && no_of_keywords <= 100) {
          first_frame_amount = no_of_keywords * 600;
        }
        else if (no_of_keywords > 100 && no_of_keywords <= 500) {
          first_frame_amount = no_of_keywords * 500;
        }
        else {
          first_frame_amount = no_of_keywords * 450;
        }

        fourth_frame_amount = first_frame_amount;

        $("#cost-estimation-label").text("Search Engine Optimization (SEO) Cost Estimation");
        $("#first-frame-label").text("Optimization Cost");
        $("#first-frame-amount").html("<i class='fas fa-rupee-sign'></i>&nbsp;"+first_frame_amount);
        $("#second-frame-label").text("");
        $("#second-frame-amount").html("");
        $("#third-frame-label").text("Commitment Time");
        $("#third-frame-amount").html("6 Months");
        $("#fourth-frame-label").text("Total:");
        $("#fourth-frame-amount").html("<i class='fas fa-rupee-sign'></i>&nbsp;"+fourth_frame_amount+"&#92;month");
      }
      else if (looking_for === 'rap') {
        first_frame_amount = 0;
        third_frame_amount = 0;

        if (organic_traffic > 1) {
          if(organic_traffic <= 2000) {
            first_frame_amount = first_frame_amount + 4000;
            third_frame_amount = third_frame_amount + 7;
          }
          else if(organic_traffic > 2000 && organic_traffic <= 5000) {
            first_frame_amount = first_frame_amount + (organic_traffic * 1.75);
            third_frame_amount = third_frame_amount + (organic_traffic * 0.0035);
          }
          else if (organic_traffic > 5000 && organic_traffic <= 10000) {
            first_frame_amount = first_frame_amount + (organic_traffic * 1.25);
            third_frame_amount = third_frame_amount + (organic_traffic * 0.002);
          }
          else if (organic_traffic > 10000 && organic_traffic <= 50000) {
            first_frame_amount = first_frame_amount + (organic_traffic * 0.65);
            third_frame_amount = third_frame_amount + (organic_traffic * 0.0006);
          }
          else if (organic_traffic > 50000 && organic_traffic <= 100000) {
            first_frame_amount = first_frame_amount + (organic_traffic * 0.5);
            third_frame_amount = third_frame_amount + (organic_traffic * 0.0005);
          }
          else if (organic_traffic > 100000 && organic_traffic <= 500000) {
            first_frame_amount = first_frame_amount + (organic_traffic * 0.3);
            third_frame_amount = third_frame_amount + (organic_traffic * 0.0002);
          }
          else if (organic_traffic > 500000 && organic_traffic <= 1000000) {
            first_frame_amount = first_frame_amount + (organic_traffic * 0.2);
            third_frame_amount = third_frame_amount + (organic_traffic * 0.00017);
          }
          else {
            first_frame_amount = first_frame_amount + (organic_traffic * 0.1);
            third_frame_amount = third_frame_amount + (organic_traffic * 0.0001);
          }
        } 

        if (paid_traffic > 1) {
          if(paid_traffic <= 2000) {
            first_frame_amount = first_frame_amount + 4000;
            third_frame_amount = third_frame_amount + 7;
          }
          else if(paid_traffic > 2000 && paid_traffic <= 5000) {
            first_frame_amount = first_frame_amount + (paid_traffic * 1.75);
            third_frame_amount = third_frame_amount + (paid_traffic * 0.0035);
          }
          else if (paid_traffic > 5000 && paid_traffic <= 10000) {
            first_frame_amount = first_frame_amount + (paid_traffic * 1.25);
            third_frame_amount = third_frame_amount + (paid_traffic * 0.002);
          }
          else if (paid_traffic > 10000 && paid_traffic <= 50000) {
            first_frame_amount = first_frame_amount + (paid_traffic * 0.65);
            third_frame_amount = third_frame_amount + (paid_traffic * 0.0006);
          }
          else if (paid_traffic > 50000 && paid_traffic <= 100000) {
            first_frame_amount = first_frame_amount + (paid_traffic * 0.5);
            third_frame_amount = third_frame_amount + (paid_traffic * 0.0005);
          }
          else if (paid_traffic > 100000 && paid_traffic <= 500000) {
            first_frame_amount = first_frame_amount + (paid_traffic * 0.3);
            third_frame_amount = third_frame_amount + (paid_traffic * 0.0002);
          }
          else if (paid_traffic > 500000 && paid_traffic <= 1000000) {
            first_frame_amount = first_frame_amount + (paid_traffic * 0.2);
            third_frame_amount = third_frame_amount + (paid_traffic * 0.00017);
          }
          else {
            first_frame_amount = first_frame_amount + (paid_traffic * 0.1);
            third_frame_amount = third_frame_amount + (paid_traffic * 0.0001);
          }
        } 

        if (social_traffic > 1) {
          if(social_traffic <= 2000) {
            first_frame_amount = first_frame_amount + 4000;
            third_frame_amount = third_frame_amount + 7;
          }
          else if(social_traffic > 2000 && social_traffic <= 5000) {
            first_frame_amount = first_frame_amount + (social_traffic * 1.75);
            third_frame_amount = third_frame_amount + (social_traffic * 0.0035);
          }
          else if (social_traffic > 5000 && social_traffic <= 10000) {
            first_frame_amount = first_frame_amount + (social_traffic * 1.25);
            third_frame_amount = third_frame_amount + (social_traffic * 0.002);
          }
          else if (social_traffic > 10000 && social_traffic <= 50000) {
            first_frame_amount = first_frame_amount + (social_traffic * 0.65);
            third_frame_amount = third_frame_amount + (social_traffic * 0.0006);
          }
          else if (social_traffic > 50000 && social_traffic <= 100000) {
            first_frame_amount = first_frame_amount + (social_traffic * 0.5);
            third_frame_amount = third_frame_amount + (social_traffic * 0.0005);
          }
          else if (social_traffic > 100000 && social_traffic <= 500000) {
            first_frame_amount = first_frame_amount + (social_traffic * 0.3);
            third_frame_amount = third_frame_amount + (social_traffic * 0.0002);
          }
          else if (social_traffic > 500000 && social_traffic <= 1000000) {
            first_frame_amount = first_frame_amount + (social_traffic * 0.2);
            third_frame_amount = third_frame_amount + (social_traffic * 0.00017);
          }
          else {
            first_frame_amount = first_frame_amount + (social_traffic * 0.1);
            third_frame_amount = third_frame_amount + (social_traffic * 0.0001);
          }
        } 

        if (email_traffic > 1) {
          if(email_traffic <= 2000) {
            first_frame_amount = first_frame_amount + 4000;
            third_frame_amount = third_frame_amount + 7;
          }
          else if(email_traffic > 2000 && email_traffic <= 5000) {
            first_frame_amount = first_frame_amount + (email_traffic * 1.75);
            third_frame_amount = third_frame_amount + (email_traffic * 0.0035);
          }
          else if (email_traffic > 5000 && email_traffic <= 10000) {
            first_frame_amount = first_frame_amount + (email_traffic * 1.25);
            third_frame_amount = third_frame_amount + (email_traffic * 0.002);
          }
          else if (email_traffic > 10000 && email_traffic <= 50000) {
            first_frame_amount = first_frame_amount + (email_traffic * 0.65);
            third_frame_amount = third_frame_amount + (email_traffic * 0.0006);
          }
          else if (email_traffic > 50000 && email_traffic <= 100000) {
            first_frame_amount = first_frame_amount + (email_traffic * 0.5);
            third_frame_amount = third_frame_amount + (email_traffic * 0.0005);
          }
          else if (email_traffic > 100000 && email_traffic <= 500000) {
            first_frame_amount = first_frame_amount + (email_traffic * 0.3);
            third_frame_amount = third_frame_amount + (email_traffic * 0.0002);
          }
          else if (email_traffic > 500000 && email_traffic <= 1000000) {
            first_frame_amount = first_frame_amount + (email_traffic * 0.2);
            third_frame_amount = third_frame_amount + (email_traffic * 0.00017);
          }
          else {
            first_frame_amount = first_frame_amount + (paid_traffic * 0.1);
            third_frame_amount = third_frame_amount + (paid_traffic * 0.0001);
          }
        } 

        third_frame_amount = Math.round(third_frame_amount);
        fourth_frame_amount = Math.round(first_frame_amount);

        $("#cost-estimation-label").text("Research, Analysis, & Planning Cost Estimation");
        $("#first-frame-label").text("Cost");
        $("#first-frame-amount").html("<i class='fas fa-rupee-sign'></i>&nbsp;"+first_frame_amount);
        $("#second-frame-label").text("");
        $("#second-frame-amount").html("");
        $("#third-frame-label").text("Estimated Time");
        $("#third-frame-amount").html(third_frame_amount+"&nbsp;Days");
        $("#fourth-frame-label").text("Total:");
        $("#fourth-frame-amount").html("<i class='fas fa-rupee-sign'></i>&nbsp;"+fourth_frame_amount);
      }

      else if (looking_for === 'smm') {
        first_frame_amount = 0;
        if (paid_social_budget > 1) {
          if (paid_social_budget <= 30000) {
            first_frame_amount = 3000;
          }
          else if (paid_social_budget > 2500000) {
            first_frame_amount = Math.round(paid_social_budget/100*7);
          }
          else {
            first_frame_amount = Math.round(paid_social_budget/10);
          }
        }

        second_frame_amount = no_of_posts * no_of_networks * 250;
        fourth_frame_amount = first_frame_amount + second_frame_amount;

        $("#cost-estimation-label").text("Social Media Marketing Cost Estimation");
        $("#first-frame-label").text("Paid Social fees");
        $("#first-frame-amount").html("<i class='fas fa-rupee-sign'></i>&nbsp;"+first_frame_amount);
        $("#second-frame-label").text("Posts");
        $("#second-frame-amount").html("<i class='fas fa-rupee-sign'></i>&nbsp;"+second_frame_amount);
        $("#third-frame-label").text("Commitment Time");
        $("#third-frame-amount").html("3 Months");
        $("#fourth-frame-label").text("Total:");
        $("#fourth-frame-amount").html("<i class='fas fa-rupee-sign'></i>&nbsp;"+fourth_frame_amount);        
      }

      else if (looking_for === 'content') {
        if (no_of_words <= 1000) {
          first_frame_amount = no_of_words * 1;
          third_frame_amount = 3;
        }
        else if (no_of_words > 1000 && no_of_words <= 5000) {
          first_frame_amount = no_of_words * 0.9;
          third_frame_amount = no_of_words * 0.0018;
        }
        else {
          first_frame_amount = no_of_words * 0.8;
          third_frame_amount = no_of_words * 0.0012;
        }

        third_frame_amount = Math.round(third_frame_amount);
        fourth_frame_amount = Math.round(first_frame_amount);

        $("#cost-estimation-label").text("Content Writing Cost Estimation");
        $("#first-frame-label").text("Cost");
        $("#first-frame-amount").html("<i class='fas fa-rupee-sign'></i>&nbsp;"+first_frame_amount);
        $("#second-frame-label").text("");
        $("#second-frame-amount").html("");
        $("#third-frame-label").text("Estimated Time");
        $("#third-frame-amount").html(third_frame_amount+"&nbsp;Days");
        $("#fourth-frame-label").text("Total:");
        $("#fourth-frame-amount").html("<i class='fas fa-rupee-sign'></i>&nbsp;"+fourth_frame_amount);
      }

      $.ajax({
        type: 'POST',
        url: "estimate.php", 
        data: {
          'looking_for': looking_for,
          'no_of_pages': no_of_pages,
          'ui_level': ui_level,
          'website_category': website_category,
          'code_or_template': code_or_template,
          'static_or_dynamic': static_or_dynamic,
          'ppc_platform': ppc_platform,
          'ppc_budget': ppc_budget,
          'no_of_products': no_of_products,
          'no_of_listings': no_of_listings,
          'audience_size': audience_size,
          'no_of_keywords': no_of_keywords,
          'traffic_source': traffic_source,
          'organic_traffic': organic_traffic,
          'paid_traffic': paid_traffic,
          'social_traffic': social_traffic,
          'email_traffic': email_traffic,
          'no_of_networks': no_of_networks,
          'no_of_posts': no_of_posts,
          'paid_social_budget': paid_social_budget,
          'no_of_words': no_of_words,
          'email': email_address 
        },
        success: function(bef_data){
          var data = $.trim(bef_data);
          return true;
        }
      });
     }
     else {
       $("#email-ack").removeClass("hide-content");
     }
    }

    if (present_panel !== "looking") {
      $("#back-button").removeClass('hide-content');
    }

    if (present_panel === "cost") {
     $('#next-button').addClass('hide-content');
    }
    else {
     $('#next-button').removeClass('hide-content');
    }
  });

  $("#back-button").click(function() {
    $('html, body').animate({
      scrollTop: $("#progress-bar-inner").offset().top
    }, 50);
    if (present_panel === 'dev' || present_panel === 'ppc' || present_panel === 'automation' || present_panel === 'seo' || present_panel === 'rap' || present_panel === 'smm' || present_panel === 'content') {
      $("#back-button, #dev, #ppc, #automation, #seo, #rap, #smm, #content").addClass("hide-content");
      $("#looking-for").removeClass("hide-content");     
      $("#looking-for").css("margin-right", "150px");
      $("#looking-for").animate({'margin-right': '0px'}, {duration: 150});
      present_panel = 'looking';
      $("#progress-bar-inner").animate({width: '0px'}, {duration: 500});
      $("#percentage-count").text("0% Completed");
    }
    else if (present_panel === 'email') {
      $("#email").addClass("hide-content");
      $("#"+previous_panel_e).removeClass("hide-content");
      $("#"+previous_panel_e).css("margin-right", "150px");
      $("#"+previous_panel_e).animate({'margin-right': '0px'}, {duration: 150});
      present_panel = previous_panel_e;
      $("#progress-bar-inner").animate({width: '33%'}, {duration: 500});
      $("#percentage-count").text("33% Completed");
    }
    else if (present_panel === 'cost') {
      $("#cost").addClass("hide-content");
      $("#email").removeClass("hide-content");     
      $("#email").css("margin-right", "150px");
      $("#email").animate({'margin-right': '0px'}, {duration: 150});
      present_panel = 'email';
      $("#progress-bar-inner").animate({width: '67%'}, {duration: 500});
      $("#percentage-count").text("66% Completed");
    }

    if (present_panel === "cost") {
      $('#next-button').addClass('hide-content');
     }
     else {
      $('#next-button').removeClass('hide-content');
     }
  });
});

function isEmail(email) {
  var regex = /^([a-zA-Z0-9_.+-])+\@(([a-zA-Z0-9-])+\.)+([a-zA-Z0-9]{2,4})+$/;
  return regex.test(email);
}

$(document).ready(function() {
  $(document).on("input change paste", "#no-of-pages", function() {
    var newVal = $(this).val().replace(/[^0-9]/g, '');
    $(this).val(newVal);
  });

  $(document).on("click", ".increase-number", function() {
    var increase_button_id = $(this).data('id');
    let input_number = parseInt($.trim($("#"+increase_button_id).val()));
    if(input_number > 999999) {
      return false;
    }
    if (isNaN(input_number) || input_number == '' || typeof(input_number)  === "undefined" || input_number.length < 1) {
      input_number = 1;
    }
    input_number = input_number + 1;
    $("#"+increase_button_id).val(input_number);
  });

  $(document).on("click", ".decrease-number", function() {
    var decrease_button_id = $(this).data('id');
    let input_number = parseInt($.trim($("#"+decrease_button_id).val()));

    if(input_number <= 1) {
      return false;
    }
    if (isNaN(input_number) || input_number == '' || typeof(input_number)  === "undefined" || input_number.length < 1) {
      return false;
    }
    input_number = input_number - 1;
    $("#"+decrease_button_id).val(input_number);
  });
});

$(document).ready(function() {
  $(document).on('change', '#organic-checkbox', function() {
    if(this.checked) {
      $("#organic-traffic-box").removeClass('hide-content');
    }
    else {
      $("#organic-traffic-box").addClass('hide-content');
    }
  });

  $(document).on('change', '#paid-checkbox', function() {
    if(this.checked) {
      $("#paid-traffic-box").removeClass('hide-content');
    }
    else {
      $("#paid-traffic-box").addClass('hide-content');
    }
  });

  $(document).on('change', '#social-checkbox', function() {
    if(this.checked) {
      $("#social-traffic-box").removeClass('hide-content');
    }
    else {
      $("#social-traffic-box").addClass('hide-content');
    }
  });

  $(document).on('change', '#email-checkbox', function() {
    if(this.checked) {
      $("#email-traffic-box").removeClass('hide-content');
    }
    else {
      $("#email-traffic-box").addClass('hide-content');
    }
  });
});

$(document).ready(function() {
  $('input[type=radio][name=platform]').on('change', function() {
    if ($("input[type='radio'][name='platform']:checked").val() === 'amazon') {
      $("#no-of-listings-box").removeClass('hide-content');
    }
    else {
      $("#no-of-listings-box").addClass('hide-content');
    }
  });
});
/* END: ESTIMATION PANEL */

/* START: LOGIN PANEL */
$(document).ready(function() {
  $("#get-started").click(function(e) {
      e.preventDefault();
      $("#register-section").css("display", "flex");
  });

  $("#close-register").click(function() {
      $("#give-love").addClass('hide-content');
      $("#register-section").css("display", "none");
  });
});

$(document).ready(function() {
  $(document).on('click', "#user-profile", function(e){
    e.stopPropagation();
    if ($("#user-popup-panel").hasClass('hide')) {
      $("#user-popup-panel").removeClass('hide');
      $("#caret-down-icon").removeClass('fa-caret-down');
      $("#caret-down-icon").addClass('fa-caret-up');
    }
    else if (!$("#user-popup-panel").hasClass('hide')) {
      $("#user-popup-panel").addClass('hide');
      $("#caret-down-icon").removeClass('fa-caret-up');
      $("#caret-down-icon").addClass('fa-caret-down');
    }
  });

  $(document).click(function(e) {
    if (e.target.id != 'user-popup-panel' && !$('#user-popup-panel').find(e.target).length) {
      $("#user-popup-panel").addClass('hide');
      $("#caret-down-icon").removeClass('fa-caret-up');
      $("#caret-down-icon").addClass('fa-caret-down');
    }
  });
});
/* END: LOGIN PANEL */

/* START: GIVE HEART */
$(document).ready(function() {
  if ($("#varun-heart").data('love-varun') === 'yes') {
    $("#varun-heart").css("color", "red");
  }
  if ($("#pavan-heart").data('love-pavan') === 'yes') {
    $("#pavan-heart").css("color", "red");
  }
  if ($("#anwar-heart").data('love-anwar') === 'yes') {
    $("#anwar-heart").css("color", "red");
  }
  $(document).on("click", ".heart", function(e) {
    e.preventDefault();
    var member = $.trim($(this).data('id'));

    if ($("#"+member+"-heart").data('love-'+member) === 'yes') {
      return true;
    }

    $("#"+member+"-heart").css("color", "red");
    let member_count = parseInt($.trim($("#"+member+"-heart-count").text()));
    if (isNaN(member_count) || member_count == '' || typeof(member_count)  === "undefined" || member_count.length < 1) {
      member_count = 0;
    }
    member_count = member_count + 1;
    $("#"+member+"-heart-count").text(member_count);
    $.ajax({
      type: 'POST',
      url: "love.php", 
      data: {'member':member},
      success: function(bef_data){
        var data = $.trim(bef_data);
       
        if (data == 'login') {
          $("#"+member+"-heart").css("color", "#fff");
          let member_count = parseInt($.trim($("#"+member+"-heart-count").text()));
          member_count = member_count - 1;
          $("#"+member+"-heart-count").text(member_count);

          $("#give-love").removeClass('hide-content');
          $("#register-section").css("display", "flex");
        }
        else if (data === 'exist') {
          $("#"+member+"-heart").css("color", "#fff");
          let member_count = parseInt($.trim($("#"+member+"-heart-count").text()));
          member_count = member_count - 1;
          $("#"+member+"-heart-count").text(member_count);
        }
        else if (data === 'success') {
          return true;
        }
        else {
          $("#"+member+"-heart").css("color", "#fff");
          let member_count = parseInt($.trim($("#"+member+"-heart-count").text()));
          member_count = member_count - 1;
          $("#"+member+"-heart-count").text(member_count);

          var errormessage = encodeURIComponent(data);
          var path = encodeURIComponent('sabiduria.min.js/(sub)love.php/error=else');
          //$.post("https://www.sabiduria.in/senderror.php", 
          $.post("http://localhost/dashboard/sabiduria/senderror.php", 
          {
           'errormessage': errormessage,
           'path': path  
          });
        }
      }
  });
  });
});
/* END: GIVE HEART */
